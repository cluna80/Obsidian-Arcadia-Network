{
  "_format": "hh-sol-artifact-1",
  "contractName": "DerivativeMarkets",
  "sourceName": "contracts/layer3/risk/DerivativeMarkets.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum DerivativeMarkets.DerivativeType",
          "name": "derivativeType",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "strikePrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        }
      ],
      "name": "DerivativeCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        }
      ],
      "name": "DerivativePurchased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "settlementValue",
          "type": "uint256"
        }
      ],
      "name": "DerivativeSettled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        }
      ],
      "name": "buyDerivative",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum DerivativeMarkets.DerivativeType",
          "name": "derivativeType",
          "type": "uint8"
        },
        {
          "internalType": "enum DerivativeMarkets.UnderlyingAsset",
          "name": "underlying",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "underlyingId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "strikePrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        }
      ],
      "name": "createDerivative",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "derivativeCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "derivatives",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "enum DerivativeMarkets.DerivativeType",
          "name": "derivativeType",
          "type": "uint8"
        },
        {
          "internalType": "enum DerivativeMarkets.UnderlyingAsset",
          "name": "underlying",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "underlyingId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "strikePrice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiry",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "isSettled",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "settlementValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        }
      ],
      "name": "getDerivative",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "id",
              "type": "uint256"
            },
            {
              "internalType": "enum DerivativeMarkets.DerivativeType",
              "name": "derivativeType",
              "type": "uint8"
            },
            {
              "internalType": "enum DerivativeMarkets.UnderlyingAsset",
              "name": "underlying",
              "type": "uint8"
            },
            {
              "internalType": "uint256",
              "name": "underlyingId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "strikePrice",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "premium",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expiry",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "buyer",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "isSettled",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "settlementValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct DerivativeMarkets.Derivative",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "derivativeId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "currentValue",
          "type": "uint256"
        }
      ],
      "name": "settleDerivative",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalVolume",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50338061003757604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6100408161004a565b506001805561009a565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610bdf806100a96000396000f3fe6080604052600436106100915760003560e01c80639743eae6116100595780639743eae61461013e578063c0046e391461016b578063cde8f85114610206578063f2fde38b1461021c578063f920d9f71461023c57600080fd5b8063330840c0146100965780635f81a57c146100c9578063715018a6146100df5780638da5cb5b146100f6578063968ae4631461011e575b600080fd5b3480156100a257600080fd5b506100b66100b136600461090e565b61024f565b6040519081526020015b60405180910390f35b3480156100d557600080fd5b506100b660045481565b3480156100eb57600080fd5b506100f4610438565b005b34801561010257600080fd5b506000546040516001600160a01b0390911681526020016100c0565b34801561012a57600080fd5b506100f4610139366004610967565b61044c565b34801561014a57600080fd5b5061015e610159366004610989565b6105c6565b6040516100c091906109e3565b34801561017757600080fd5b506101ef610186366004610989565b6002602081905260009182526040909120805460018201549282015460038301546004840154600585015460068601546007870154600890970154959760ff808216986101009092048116976001600160a01b0393841693831692600160a01b9004909116908b565b6040516100c09b9a99989796959493929190610a89565b34801561021257600080fd5b506100b660035481565b34801561022857600080fd5b506100f4610237366004610afd565b610730565b6100f461024a366004610989565b610773565b600380546000918261026083610b43565b9190505550604051806101600160405280600354815260200188600381111561028b5761028b6109a2565b81526020018760038111156102a2576102a26109a2565b815260200186815260200185815260200184815260200183426102c59190610b5c565b815233602080830191909152600060408084018290526060840182905260809093018190526003805482526002835292902083518155908301516001828101805493949293909260ff1990911691908490811115610325576103256109a2565b0217905550604082015160018201805461ff00191661010083600381111561034f5761034f6109a2565b021790555060608201516002820155608082015160038083019190915560a0830151600483015560c0830151600583015560e08301516006830180546001600160a01b0319166001600160a01b03928316179055610100840151600784018054610120870151929093166001600160a81b031990931692909217600160a01b9115159190910217905561014090920151600890910155547f0acea5ca655e1d55043c1530ca7bf1ffcc14187ce6b3b749311938d065603acc88866104138642610b5c565b60405161042293929190610b75565b60405180910390a2506003549695505050505050565b61044061085a565b61044a6000610887565b565b60008281526002602052604090206005810154421080159061047a57506007810154600160a01b900460ff16155b61048357600080fd5b600080600183015460ff16600381111561049f5761049f6109a2565b1480156104af5750816003015483115b156104ca5760038201546104c39084610b96565b905061050c565b60018083015460ff1660038111156104e4576104e46109a2565b1480156104f45750816003015483105b1561050c578282600301546105099190610b96565b90505b60078201805460ff60a01b1916600160a01b179055600882018190558015801590610543575060078201546001600160a01b031615155b156105865760078201546040516001600160a01b039091169082156108fc029083906000818181858888f19350505050158015610584573d6000803e3d6000fd5b505b837f033a31e3af947f5f190b08b3d6793a24a3390b599110b40535e7fa9437a14a76826040516105b891815260200190565b60405180910390a250505050565b610638604080516101608101909152600080825260208201908152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160a01b0316815260200160006001600160a01b03168152602001600015158152602001600081525090565b60008281526002602090815260409182902082516101608101909352805483526001810154909183019060ff166003811115610676576106766109a2565b6003811115610687576106876109a2565b81526020016001820160019054906101000a900460ff1660038111156106af576106af6109a2565b60038111156106c0576106c06109a2565b81526002820154602082015260038201546040820152600482015460608201526005820154608082015260068201546001600160a01b0390811660a0830152600783015490811660c0830152600160a01b900460ff16151560e08201526008909101546101009091015292915050565b61073861085a565b6001600160a01b03811661076757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b61077081610887565b50565b61077b6108d7565b600081815260026020526040902060078101546001600160a01b03161580156107a8575080600401543410155b6107b157600080fd5b6007810180546001600160a01b0319163317905560068101546040516001600160a01b0391909116903480156108fc02916000818181858888f19350505050158015610801573d6000803e3d6000fd5b5034600460008282546108149190610b5c565b9091555050604051348152339083907f925a1cc74fbec1a99997efe055daee2b9ffab0c0df03211dd43a6946f172805d9060200160405180910390a35061077060018055565b6000546001600160a01b0316331461044a5760405163118cdaa760e01b815233600482015260240161075e565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6002600154036108fa57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6004811061077057600080fd5b60008060008060008060c0878903121561092757600080fd5b863561093281610901565b9550602087013561094281610901565b95989597505050506040840135936060810135936080820135935060a0909101359150565b6000806040838503121561097a57600080fd5b50508035926020909101359150565b60006020828403121561099b57600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6004811061077057634e487b7160e01b600052602160045260246000fd5b6109df816109b8565b9052565b815181526020808301516101608301916109ff908401826109d6565b506040830151610a1260408401826109d6565b50606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e0830151610a5560e08401826001600160a01b03169052565b50610100838101516001600160a01b0316908301526101208084015115159083015261014092830151929091019190915290565b8b81526101608101610a9a8c6109b8565b8b6020830152610aa98b6109b8565b604082019a909a526060810198909852608088019690965260a087019490945260c08601929092526001600160a01b0390811660e08601521661010084015215156101208301526101409091015292915050565b600060208284031215610b0f57600080fd5b81356001600160a01b0381168114610b2657600080fd5b9392505050565b634e487b7160e01b600052601160045260246000fd5b600060018201610b5557610b55610b2d565b5060010190565b80820180821115610b6f57610b6f610b2d565b92915050565b60608101610b82856109b8565b938152602081019290925260409091015290565b81810381811115610b6f57610b6f610b2d56fea26469706673582212203c7a43cd54b942af6382aace5f70ab6d6e0b84f165a8a88e1d8e368c746f19d664736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436106100915760003560e01c80639743eae6116100595780639743eae61461013e578063c0046e391461016b578063cde8f85114610206578063f2fde38b1461021c578063f920d9f71461023c57600080fd5b8063330840c0146100965780635f81a57c146100c9578063715018a6146100df5780638da5cb5b146100f6578063968ae4631461011e575b600080fd5b3480156100a257600080fd5b506100b66100b136600461090e565b61024f565b6040519081526020015b60405180910390f35b3480156100d557600080fd5b506100b660045481565b3480156100eb57600080fd5b506100f4610438565b005b34801561010257600080fd5b506000546040516001600160a01b0390911681526020016100c0565b34801561012a57600080fd5b506100f4610139366004610967565b61044c565b34801561014a57600080fd5b5061015e610159366004610989565b6105c6565b6040516100c091906109e3565b34801561017757600080fd5b506101ef610186366004610989565b6002602081905260009182526040909120805460018201549282015460038301546004840154600585015460068601546007870154600890970154959760ff808216986101009092048116976001600160a01b0393841693831692600160a01b9004909116908b565b6040516100c09b9a99989796959493929190610a89565b34801561021257600080fd5b506100b660035481565b34801561022857600080fd5b506100f4610237366004610afd565b610730565b6100f461024a366004610989565b610773565b600380546000918261026083610b43565b9190505550604051806101600160405280600354815260200188600381111561028b5761028b6109a2565b81526020018760038111156102a2576102a26109a2565b815260200186815260200185815260200184815260200183426102c59190610b5c565b815233602080830191909152600060408084018290526060840182905260809093018190526003805482526002835292902083518155908301516001828101805493949293909260ff1990911691908490811115610325576103256109a2565b0217905550604082015160018201805461ff00191661010083600381111561034f5761034f6109a2565b021790555060608201516002820155608082015160038083019190915560a0830151600483015560c0830151600583015560e08301516006830180546001600160a01b0319166001600160a01b03928316179055610100840151600784018054610120870151929093166001600160a81b031990931692909217600160a01b9115159190910217905561014090920151600890910155547f0acea5ca655e1d55043c1530ca7bf1ffcc14187ce6b3b749311938d065603acc88866104138642610b5c565b60405161042293929190610b75565b60405180910390a2506003549695505050505050565b61044061085a565b61044a6000610887565b565b60008281526002602052604090206005810154421080159061047a57506007810154600160a01b900460ff16155b61048357600080fd5b600080600183015460ff16600381111561049f5761049f6109a2565b1480156104af5750816003015483115b156104ca5760038201546104c39084610b96565b905061050c565b60018083015460ff1660038111156104e4576104e46109a2565b1480156104f45750816003015483105b1561050c578282600301546105099190610b96565b90505b60078201805460ff60a01b1916600160a01b179055600882018190558015801590610543575060078201546001600160a01b031615155b156105865760078201546040516001600160a01b039091169082156108fc029083906000818181858888f19350505050158015610584573d6000803e3d6000fd5b505b837f033a31e3af947f5f190b08b3d6793a24a3390b599110b40535e7fa9437a14a76826040516105b891815260200190565b60405180910390a250505050565b610638604080516101608101909152600080825260208201908152602001600081526020016000815260200160008152602001600081526020016000815260200160006001600160a01b0316815260200160006001600160a01b03168152602001600015158152602001600081525090565b60008281526002602090815260409182902082516101608101909352805483526001810154909183019060ff166003811115610676576106766109a2565b6003811115610687576106876109a2565b81526020016001820160019054906101000a900460ff1660038111156106af576106af6109a2565b60038111156106c0576106c06109a2565b81526002820154602082015260038201546040820152600482015460608201526005820154608082015260068201546001600160a01b0390811660a0830152600783015490811660c0830152600160a01b900460ff16151560e08201526008909101546101009091015292915050565b61073861085a565b6001600160a01b03811661076757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b61077081610887565b50565b61077b6108d7565b600081815260026020526040902060078101546001600160a01b03161580156107a8575080600401543410155b6107b157600080fd5b6007810180546001600160a01b0319163317905560068101546040516001600160a01b0391909116903480156108fc02916000818181858888f19350505050158015610801573d6000803e3d6000fd5b5034600460008282546108149190610b5c565b9091555050604051348152339083907f925a1cc74fbec1a99997efe055daee2b9ffab0c0df03211dd43a6946f172805d9060200160405180910390a35061077060018055565b6000546001600160a01b0316331461044a5760405163118cdaa760e01b815233600482015260240161075e565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6002600154036108fa57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6004811061077057600080fd5b60008060008060008060c0878903121561092757600080fd5b863561093281610901565b9550602087013561094281610901565b95989597505050506040840135936060810135936080820135935060a0909101359150565b6000806040838503121561097a57600080fd5b50508035926020909101359150565b60006020828403121561099b57600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6004811061077057634e487b7160e01b600052602160045260246000fd5b6109df816109b8565b9052565b815181526020808301516101608301916109ff908401826109d6565b506040830151610a1260408401826109d6565b50606083015160608301526080830151608083015260a083015160a083015260c083015160c083015260e0830151610a5560e08401826001600160a01b03169052565b50610100838101516001600160a01b0316908301526101208084015115159083015261014092830151929091019190915290565b8b81526101608101610a9a8c6109b8565b8b6020830152610aa98b6109b8565b604082019a909a526060810198909852608088019690965260a087019490945260c08601929092526001600160a01b0390811660e08601521661010084015215156101208301526101409091015292915050565b600060208284031215610b0f57600080fd5b81356001600160a01b0381168114610b2657600080fd5b9392505050565b634e487b7160e01b600052601160045260246000fd5b600060018201610b5557610b55610b2d565b5060010190565b80820180821115610b6f57610b6f610b2d565b92915050565b60608101610b82856109b8565b938152602081019290925260409091015290565b81810381811115610b6f57610b6f610b2d56fea26469706673582212203c7a43cd54b942af6382aace5f70ab6d6e0b84f165a8a88e1d8e368c746f19d664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
