{
  "_format": "hh-sol-artifact-1",
  "contractName": "LegacySystem",
  "sourceName": "contracts/layer3/temporal/LegacySystem.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidLineage",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyInactive",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dynastyId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        }
      ],
      "name": "DynastyEstablished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        }
      ],
      "name": "HeirCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "LegacyDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reputation",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "wealth",
          "type": "uint256"
        }
      ],
      "name": "LegacyTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedReputation",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedWealth",
          "type": "uint256"
        }
      ],
      "name": "createHeir",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "deactivateLegacy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dynasties",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalHeirs",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "establishedAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dynastyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "entityToDynasty",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "entityToLegacy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        }
      ],
      "name": "getDynastyTree",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "getLegacy",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "parentId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "heirId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "inheritedReputation",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "inheritedWealth",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "transferredMemories",
              "type": "uint256[]"
            },
            {
              "internalType": "uint256",
              "name": "transferTime",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct LegacySystem.Legacy",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "legacies",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedReputation",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedWealth",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "transferTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "legacyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "memoryId",
          "type": "uint256"
        }
      ],
      "name": "transferMemory",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50338061003757604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b61004081610046565b50610096565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610b60806100a56000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063715018a61161008c578063e81a5d6911610066578063e81a5d6914610228578063f1b7517314610271578063f2fde38b14610291578063f8042ba7146102a457600080fd5b8063715018a6146101f25780638da5cb5b146101fa578063a9fa3c911461021557600080fd5b80634746a2db116100c85780634746a2db1461012957806358722d521461013c5780636031b9d21461015c57806367e7057a146101d257600080fd5b80630bf115f6146100ef5780632300c679146101045780634035238714610120575b600080fd5b6101026100fd366004610970565b6102c4565b005b61010d60065481565b6040519081526020015b60405180910390f35b61010d60055481565b610102610137366004610992565b61033d565b61010d61014a366004610992565b60046020526000908152604090205481565b6101a361016a366004610992565b60016020819052600091825260409091208054918101546002820154600383015460058401546006909401549293919290919060ff1686565b6040805196875260208701959095529385019290925260608401526080830152151560a082015260c001610117565b6101e56101e0366004610992565b6103df565b60405161011791906109ab565b610102610450565b6000546040516001600160a01b039091168152602001610117565b61010d6102233660046109ef565b610464565b610256610236366004610992565b600360208190526000918252604090912080546002820154919092015483565b60408051938452602084019290925290820152606001610117565b61028461027f366004610992565b610733565b6040516101179190610a21565b61010261029f366004610abd565b610850565b61010d6102b2366004610992565b60026020526000908152604090205481565b8115806102d2575060055482115b156102f05760405163087e7cd960e11b815260040160405180910390fd5b6000828152600160205260409020600681015460ff1661032357604051637310f35560e11b815260040160405180910390fd5b600401805460018101825560009182526020909120015550565b610345610893565b801580610353575060055481115b156103715760405163087e7cd960e11b815260040160405180910390fd5b6000818152600160205260409020600681015460ff166103a457604051637310f35560e11b815260040160405180910390fd5b60068101805460ff1916905560405182907fc5f7cf6f255f001323ac91dbf700ae009bc7a29d4466aaceca0677fd0c14071190600090a25050565b600081815260046020908152604080832054808452600383529281902060010180548251818502810185019093528083526060949383018282801561044357602002820191906000526020600020905b81548152602001906001019080831161042f575b5050505050915050919050565b610458610893565b61046260006108c0565b565b6000838152600260205260408120541561049157604051631dca17f160e31b815260040160405180910390fd5b8385036104b15760405163689740f760e01b815260040160405180910390fd5b600580549060006104c183610aed565b91905055506040518060e00160405280868152602001858152602001848152602001838152602001600067ffffffffffffffff81111561050357610503610b14565b60405190808252806020026020018201604052801561052c578160200160208202803683370190505b50815242602080830191909152600160409283018190526005546000908152818352839020845181558483015191810191909155918301516002830155606083015160038301556080830151805161058a9260048501920190610910565b5060a082015160058281019190915560c0909201516006909101805460ff1916911515919091179055546000858152600260209081526040808320939093558782526004905290812054900361066257600680549060006105ea83610aed565b90915550506006805460009081526003602081815260408084208a815542938101939093556001808401805491820181558552828520018a90559354898452600490915283832081905592519092889290917f1be73e0910ed6828287231dfb84eb4bb6fae7fe9269530ec1cdde041795ce3399190a3505b6000858152600460209081526040808320548084526003835290832060018082018054918201815585529284209092018790558083526002909101805491926106aa83610aed565b909155505060008581526004602052604080822083905551869188917fbbe4f2777450c2217b123e51352632794715df139a1cc4eaf9eda0229f7b2b439190a360055460408051868152602081018690527fd85b4f7e4823efeaedce9bf29388299e24eb99d75bda8a6ab16f9cc5b3070144910160405180910390a25050600554949350505050565b6107756040518060e001604052806000815260200160008152602001600081526020016000815260200160608152602001600081526020016000151581525090565b811580610783575060055482115b156107a15760405163087e7cd960e11b815260040160405180910390fd5b600082815260016020818152604092839020835160e0810185528154815292810154838301526002810154838501526003810154606084015260048101805485518185028101850190965280865293949193608086019383018282801561082757602002820191906000526020600020905b815481526020019060010190808311610813575b50505091835250506005820154602082015260069091015460ff16151560409091015292915050565b610858610893565b6001600160a01b03811661088757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b610890816108c0565b50565b6000546001600160a01b031633146104625760405163118cdaa760e01b815233600482015260240161087e565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b82805482825590600052602060002090810192821561094b579160200282015b8281111561094b578251825591602001919060010190610930565b5061095792915061095b565b5090565b5b80821115610957576000815560010161095c565b6000806040838503121561098357600080fd5b50508035926020909101359150565b6000602082840312156109a457600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b818110156109e3578351835292840192918401916001016109c7565b50909695505050505050565b60008060008060808587031215610a0557600080fd5b5050823594602084013594506040840135936060013592509050565b6000602080835261010083018451828501528185015160408501526040850151606085015260608501516080850152608085015160e060a0860152818151808452610120870191508483019350600092505b80831015610a935783518252928401926001929092019190840190610a73565b5060a087015160c087015260c08701519350610ab360e087018515159052565b9695505050505050565b600060208284031215610acf57600080fd5b81356001600160a01b0381168114610ae657600080fd5b9392505050565b600060018201610b0d57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fdfea2646970667358221220ddbb413ffe2c0d278b31da0b01aa49a6a05cbfc63666059c2887bf5658e8264364736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063715018a61161008c578063e81a5d6911610066578063e81a5d6914610228578063f1b7517314610271578063f2fde38b14610291578063f8042ba7146102a457600080fd5b8063715018a6146101f25780638da5cb5b146101fa578063a9fa3c911461021557600080fd5b80634746a2db116100c85780634746a2db1461012957806358722d521461013c5780636031b9d21461015c57806367e7057a146101d257600080fd5b80630bf115f6146100ef5780632300c679146101045780634035238714610120575b600080fd5b6101026100fd366004610970565b6102c4565b005b61010d60065481565b6040519081526020015b60405180910390f35b61010d60055481565b610102610137366004610992565b61033d565b61010d61014a366004610992565b60046020526000908152604090205481565b6101a361016a366004610992565b60016020819052600091825260409091208054918101546002820154600383015460058401546006909401549293919290919060ff1686565b6040805196875260208701959095529385019290925260608401526080830152151560a082015260c001610117565b6101e56101e0366004610992565b6103df565b60405161011791906109ab565b610102610450565b6000546040516001600160a01b039091168152602001610117565b61010d6102233660046109ef565b610464565b610256610236366004610992565b600360208190526000918252604090912080546002820154919092015483565b60408051938452602084019290925290820152606001610117565b61028461027f366004610992565b610733565b6040516101179190610a21565b61010261029f366004610abd565b610850565b61010d6102b2366004610992565b60026020526000908152604090205481565b8115806102d2575060055482115b156102f05760405163087e7cd960e11b815260040160405180910390fd5b6000828152600160205260409020600681015460ff1661032357604051637310f35560e11b815260040160405180910390fd5b600401805460018101825560009182526020909120015550565b610345610893565b801580610353575060055481115b156103715760405163087e7cd960e11b815260040160405180910390fd5b6000818152600160205260409020600681015460ff166103a457604051637310f35560e11b815260040160405180910390fd5b60068101805460ff1916905560405182907fc5f7cf6f255f001323ac91dbf700ae009bc7a29d4466aaceca0677fd0c14071190600090a25050565b600081815260046020908152604080832054808452600383529281902060010180548251818502810185019093528083526060949383018282801561044357602002820191906000526020600020905b81548152602001906001019080831161042f575b5050505050915050919050565b610458610893565b61046260006108c0565b565b6000838152600260205260408120541561049157604051631dca17f160e31b815260040160405180910390fd5b8385036104b15760405163689740f760e01b815260040160405180910390fd5b600580549060006104c183610aed565b91905055506040518060e00160405280868152602001858152602001848152602001838152602001600067ffffffffffffffff81111561050357610503610b14565b60405190808252806020026020018201604052801561052c578160200160208202803683370190505b50815242602080830191909152600160409283018190526005546000908152818352839020845181558483015191810191909155918301516002830155606083015160038301556080830151805161058a9260048501920190610910565b5060a082015160058281019190915560c0909201516006909101805460ff1916911515919091179055546000858152600260209081526040808320939093558782526004905290812054900361066257600680549060006105ea83610aed565b90915550506006805460009081526003602081815260408084208a815542938101939093556001808401805491820181558552828520018a90559354898452600490915283832081905592519092889290917f1be73e0910ed6828287231dfb84eb4bb6fae7fe9269530ec1cdde041795ce3399190a3505b6000858152600460209081526040808320548084526003835290832060018082018054918201815585529284209092018790558083526002909101805491926106aa83610aed565b909155505060008581526004602052604080822083905551869188917fbbe4f2777450c2217b123e51352632794715df139a1cc4eaf9eda0229f7b2b439190a360055460408051868152602081018690527fd85b4f7e4823efeaedce9bf29388299e24eb99d75bda8a6ab16f9cc5b3070144910160405180910390a25050600554949350505050565b6107756040518060e001604052806000815260200160008152602001600081526020016000815260200160608152602001600081526020016000151581525090565b811580610783575060055482115b156107a15760405163087e7cd960e11b815260040160405180910390fd5b600082815260016020818152604092839020835160e0810185528154815292810154838301526002810154838501526003810154606084015260048101805485518185028101850190965280865293949193608086019383018282801561082757602002820191906000526020600020905b815481526020019060010190808311610813575b50505091835250506005820154602082015260069091015460ff16151560409091015292915050565b610858610893565b6001600160a01b03811661088757604051631e4fbdf760e01b8152600060048201526024015b60405180910390fd5b610890816108c0565b50565b6000546001600160a01b031633146104625760405163118cdaa760e01b815233600482015260240161087e565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b82805482825590600052602060002090810192821561094b579160200282015b8281111561094b578251825591602001919060010190610930565b5061095792915061095b565b5090565b5b80821115610957576000815560010161095c565b6000806040838503121561098357600080fd5b50508035926020909101359150565b6000602082840312156109a457600080fd5b5035919050565b6020808252825182820181905260009190848201906040850190845b818110156109e3578351835292840192918401916001016109c7565b50909695505050505050565b60008060008060808587031215610a0557600080fd5b5050823594602084013594506040840135936060013592509050565b6000602080835261010083018451828501528185015160408501526040850151606085015260608501516080850152608085015160e060a0860152818151808452610120870191508483019350600092505b80831015610a935783518252928401926001929092019190840190610a73565b5060a087015160c087015260c08701519350610ab360e087018515159052565b9695505050505050565b600060208284031215610acf57600080fd5b81356001600160a01b0381168114610ae657600080fd5b9392505050565b600060018201610b0d57634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fdfea2646970667358221220ddbb413ffe2c0d278b31da0b01aa49a6a05cbfc63666059c2887bf5658e8264364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
