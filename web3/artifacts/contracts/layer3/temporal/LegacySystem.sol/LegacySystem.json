{
  "_format": "hh-sol-artifact-1",
  "contractName": "LegacySystem",
  "sourceName": "contracts/layer3/temporal/LegacySystem.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidLineage",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyDoesNotExist",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "LegacyInactive",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "dynastyId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        }
      ],
      "name": "DynastyEstablished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        }
      ],
      "name": "HeirCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "LegacyDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reputation",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "wealth",
          "type": "uint256"
        }
      ],
      "name": "LegacyTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedReputation",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedWealth",
          "type": "uint256"
        }
      ],
      "name": "createHeir",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "deactivateLegacy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "dynasties",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalHeirs",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "establishedAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "dynastyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "entityToDynasty",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "entityToLegacy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "founderId",
          "type": "uint256"
        }
      ],
      "name": "getDynastyTree",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        }
      ],
      "name": "getLegacy",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "parentId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "heirId",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "inheritedReputation",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "inheritedWealth",
              "type": "uint256"
            },
            {
              "internalType": "uint256[]",
              "name": "transferredMemories",
              "type": "uint256[]"
            },
            {
              "internalType": "uint256",
              "name": "transferTime",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "internalType": "struct LegacySystem.Legacy",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "legacies",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "parentId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "heirId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedReputation",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "inheritedWealth",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "transferTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "legacyCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "legacyId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "memoryId",
          "type": "uint256"
        }
      ],
      "name": "transferMemory",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461007a5733156100645760008054336001600160a01b03198216811783556040519290916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3610c4890816100808239f35b631e4fbdf760e01b815260006004820152602490fd5b600080fdfe60c0604081815260048036101561001557600080fd5b600092833560e01c9081630bf115f61461098f575080632300c6791461097057806340352387146109515780634746a2db1461086857806358722d52146108425780636031b9d2146107df57806367e7057a1461076f578063715018a6146106f15780638da5cb5b146106be578063a9fa3c9114610357578063e81a5d691461031a578063f1b75173146101b1578063f2fde38b146100e75763f8042ba7146100bd57600080fd5b346100e35760206003193601126100e35760209282913581526002845220549051908152f35b8280fd5b5090346100e35760206003193601126100e35781359173ffffffffffffffffffffffffffffffffffffffff918284168094036101ad57610125610a39565b831561017e5750508254827fffffffffffffffffffffffff00000000000000000000000000000000000000008216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b908460249251917f1e4fbdf7000000000000000000000000000000000000000000000000000000008352820152fd5b8480fd5b50823461031757602092836003193601126103135782358260c083516101d681610ae6565b82815282888201528285820152826060820152606060808201528260a0820152015280158015610308575b6102e0578294925260019384835281812090825161021e81610ae6565b825481528683015495858201968752600284015490858301918252610250600386015491606085019283528601610b8e565b916080840192835260ff600660058801549760a087019889520154169660c085019715158852805199898b526101008b0195518a8c015251908a0152516060890152516080880152519460e060a088015285518092528061012088019601925b8281106102cd57845160c08901528551151560e089015287870388f35b83518752958101959281019288016102b0565b8382517f10fcf9b2000000000000000000000000000000000000000000000000000000008152fd5b506005548111610201565b5080fd5b80fd5b50346100e35760206003193601126100e3576060928291358152600360205220805491600360028301549201549181519384526020840152820152f35b5090346100e357608091826003193601126106ba578035602435906044359260643560a052828752602086526002602052848720546106935782821461066c576103a2600554610a8a565b806005558551908751820167ffffffffffffffff9083811082821117610640578852898352875189949392918b906103d983610ae6565b878352865183018981528b84018b8152606085019160a05183528986019788528d60a087019542875260c088019860019c8d91828c52835251522095518655518986015551600285015551600384015585830194519485519182116106145768010000000000000000821161061457808d8f9254908483558185106105e4575b90505180970191528d88878220915b8481106105d257505050505090600691516005820155019051151560ff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff008354169116179055600260055491868b52528689205582885280875152858820541561056c575b6104e784878a205493848b5260038a5152888b2001610b31565b81885260038751526002868920016104ff8154610a8a565b9055838852865152848720557fbbe4f2777450c2217b123e51352632794715df139a1cc4eaf9eda0229f7b2b4384519680a37fd85b4f7e4823efeaedce9bf29388299e24eb99d75bda8a6ab16f9cc5b307014482600554958693815260a0518651820152a2519182525190f35b610577600654610a8a565b80600655885260038751526105998383888b2082815542600382015501610b31565b82600654818a528289515280888b20557f1be73e0910ed6828287231dfb84eb4bb6fae7fe9269530ec1cdde041795ce3398a80a36104cd565b88845194019381840155018990610468565b828452518320908101908a9085015b8281106106025750508e610459565b90919293815501908f92918a906105f3565b60248e6041897f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b60248b6041877f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b84517f689740f7000000000000000000000000000000000000000000000000000000008152fd5b84517fee50bf88000000000000000000000000000000000000000000000000000000008152fd5b8380fd5b50503461031357816003193601126103135773ffffffffffffffffffffffffffffffffffffffff60209254169051908152f35b833461031757806003193601126103175761070a610a39565b8073ffffffffffffffffffffffffffffffffffffffff81547fffffffffffffffffffffffff000000000000000000000000000000000000000081168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b5082903461031357602090816003193601126100e357809291923582528252828120548152600382526001906107a88285832001610b8e565b938051938080860192818752875180945286019601925b8281106107cc5785870386f35b83518752958101959281019284016107bf565b50346100e35760206003193601126100e35760c092829135815260016020522090815491600181015491600282015460038301549160ff6006600586015495015416948151968752602087015285015260608401526080830152151560a0820152f35b50346100e35760206003193601126100e357602092818392358252845220549051908152f35b50346100e35760206003193601126100e357803591610885610a39565b82158015610946575b6109205782845260016020526006818520019182549160ff8316156108fa5750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001690557fc5f7cf6f255f001323ac91dbf700ae009bc7a29d4466aaceca0677fd0c1407118280a280f35b517fe621e6aa000000000000000000000000000000000000000000000000000000008152fd5b517f10fcf9b2000000000000000000000000000000000000000000000000000000008152fd5b50600554831161088e565b5050346103135781600319360112610313576020906005549051908152f35b5050346103135781600319360112610313576020906006549051908152f35b84848492346100e357816003193601126100e35783359081158015610a2e575b610a075750825260016020528082209060ff600683015416156109df57506109dc91926024359101610b31565b80f35b8390517fe621e6aa000000000000000000000000000000000000000000000000000000008152fd5b807f10fcf9b200000000000000000000000000000000000000000000000000000000869252fd5b5060055482116109af565b73ffffffffffffffffffffffffffffffffffffffff600054163303610a5a57565b60246040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152fd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610ab75760010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60e0810190811067ffffffffffffffff821117610b0257604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b80549068010000000000000000821015610b025760018201808255821015610b5f5760005260206000200155565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b90604051918281548082526020908183019360005281600020916000905b828210610bf857505050509003601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820167ffffffffffffffff811183821017610b0257604052565b835486529485019487945060019384019390910190610bac56fea2646970667358221220bfa57eb9d8c2a6d1fc0bc25d9bc26a25bbc5542bd35dd0bcf3a89e373767752b64736f6c63430008140033",
  "deployedBytecode": "0x60c0604081815260048036101561001557600080fd5b600092833560e01c9081630bf115f61461098f575080632300c6791461097057806340352387146109515780634746a2db1461086857806358722d52146108425780636031b9d2146107df57806367e7057a1461076f578063715018a6146106f15780638da5cb5b146106be578063a9fa3c9114610357578063e81a5d691461031a578063f1b75173146101b1578063f2fde38b146100e75763f8042ba7146100bd57600080fd5b346100e35760206003193601126100e35760209282913581526002845220549051908152f35b8280fd5b5090346100e35760206003193601126100e35781359173ffffffffffffffffffffffffffffffffffffffff918284168094036101ad57610125610a39565b831561017e5750508254827fffffffffffffffffffffffff00000000000000000000000000000000000000008216178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b908460249251917f1e4fbdf7000000000000000000000000000000000000000000000000000000008352820152fd5b8480fd5b50823461031757602092836003193601126103135782358260c083516101d681610ae6565b82815282888201528285820152826060820152606060808201528260a0820152015280158015610308575b6102e0578294925260019384835281812090825161021e81610ae6565b825481528683015495858201968752600284015490858301918252610250600386015491606085019283528601610b8e565b916080840192835260ff600660058801549760a087019889520154169660c085019715158852805199898b526101008b0195518a8c015251908a0152516060890152516080880152519460e060a088015285518092528061012088019601925b8281106102cd57845160c08901528551151560e089015287870388f35b83518752958101959281019288016102b0565b8382517f10fcf9b2000000000000000000000000000000000000000000000000000000008152fd5b506005548111610201565b5080fd5b80fd5b50346100e35760206003193601126100e3576060928291358152600360205220805491600360028301549201549181519384526020840152820152f35b5090346100e357608091826003193601126106ba578035602435906044359260643560a052828752602086526002602052848720546106935782821461066c576103a2600554610a8a565b806005558551908751820167ffffffffffffffff9083811082821117610640578852898352875189949392918b906103d983610ae6565b878352865183018981528b84018b8152606085019160a05183528986019788528d60a087019542875260c088019860019c8d91828c52835251522095518655518986015551600285015551600384015585830194519485519182116106145768010000000000000000821161061457808d8f9254908483558185106105e4575b90505180970191528d88878220915b8481106105d257505050505090600691516005820155019051151560ff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff008354169116179055600260055491868b52528689205582885280875152858820541561056c575b6104e784878a205493848b5260038a5152888b2001610b31565b81885260038751526002868920016104ff8154610a8a565b9055838852865152848720557fbbe4f2777450c2217b123e51352632794715df139a1cc4eaf9eda0229f7b2b4384519680a37fd85b4f7e4823efeaedce9bf29388299e24eb99d75bda8a6ab16f9cc5b307014482600554958693815260a0518651820152a2519182525190f35b610577600654610a8a565b80600655885260038751526105998383888b2082815542600382015501610b31565b82600654818a528289515280888b20557f1be73e0910ed6828287231dfb84eb4bb6fae7fe9269530ec1cdde041795ce3398a80a36104cd565b88845194019381840155018990610468565b828452518320908101908a9085015b8281106106025750508e610459565b90919293815501908f92918a906105f3565b60248e6041897f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b60248b6041877f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b84517f689740f7000000000000000000000000000000000000000000000000000000008152fd5b84517fee50bf88000000000000000000000000000000000000000000000000000000008152fd5b8380fd5b50503461031357816003193601126103135773ffffffffffffffffffffffffffffffffffffffff60209254169051908152f35b833461031757806003193601126103175761070a610a39565b8073ffffffffffffffffffffffffffffffffffffffff81547fffffffffffffffffffffffff000000000000000000000000000000000000000081168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b5082903461031357602090816003193601126100e357809291923582528252828120548152600382526001906107a88285832001610b8e565b938051938080860192818752875180945286019601925b8281106107cc5785870386f35b83518752958101959281019284016107bf565b50346100e35760206003193601126100e35760c092829135815260016020522090815491600181015491600282015460038301549160ff6006600586015495015416948151968752602087015285015260608401526080830152151560a0820152f35b50346100e35760206003193601126100e357602092818392358252845220549051908152f35b50346100e35760206003193601126100e357803591610885610a39565b82158015610946575b6109205782845260016020526006818520019182549160ff8316156108fa5750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001690557fc5f7cf6f255f001323ac91dbf700ae009bc7a29d4466aaceca0677fd0c1407118280a280f35b517fe621e6aa000000000000000000000000000000000000000000000000000000008152fd5b517f10fcf9b2000000000000000000000000000000000000000000000000000000008152fd5b50600554831161088e565b5050346103135781600319360112610313576020906005549051908152f35b5050346103135781600319360112610313576020906006549051908152f35b84848492346100e357816003193601126100e35783359081158015610a2e575b610a075750825260016020528082209060ff600683015416156109df57506109dc91926024359101610b31565b80f35b8390517fe621e6aa000000000000000000000000000000000000000000000000000000008152fd5b807f10fcf9b200000000000000000000000000000000000000000000000000000000869252fd5b5060055482116109af565b73ffffffffffffffffffffffffffffffffffffffff600054163303610a5a57565b60246040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152fd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610ab75760010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60e0810190811067ffffffffffffffff821117610b0257604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b80549068010000000000000000821015610b025760018201808255821015610b5f5760005260206000200155565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b90604051918281548082526020908183019360005281600020916000905b828210610bf857505050509003601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820167ffffffffffffffff811183821017610b0257604052565b835486529485019487945060019384019390910190610bac56fea2646970667358221220bfa57eb9d8c2a6d1fc0bc25d9bc26a25bbc5542bd35dd0bcf3a89e373767752b64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
