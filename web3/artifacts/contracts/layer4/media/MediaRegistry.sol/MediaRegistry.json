{
  "_format": "hh-sol-artifact-1",
  "contractName": "MediaRegistry",
  "sourceName": "contracts/layer4/media/MediaRegistry.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "assetId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "enum MediaRegistry.AssetType",
          "name": "assetType",
          "type": "uint8"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        }
      ],
      "name": "AssetRegistered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "assets",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "assetId",
          "type": "uint256"
        },
        {
          "internalType": "enum MediaRegistry.AssetType",
          "name": "assetType",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "metadata",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "viewCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "revenue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "assetsByCreator",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum MediaRegistry.AssetType",
          "name": "",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "assetsByType",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "assetId",
          "type": "uint256"
        }
      ],
      "name": "getAsset",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "assetId",
              "type": "uint256"
            },
            {
              "internalType": "enum MediaRegistry.AssetType",
              "name": "assetType",
              "type": "uint8"
            },
            {
              "internalType": "address",
              "name": "contractAddress",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "tokenId",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "metadata",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "createdAt",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "creator",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "viewCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "revenue",
              "type": "uint256"
            }
          ],
          "internalType": "struct MediaRegistry.MediaAsset",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        }
      ],
      "name": "getAssetsByCreator",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum MediaRegistry.AssetType",
          "name": "assetType",
          "type": "uint8"
        }
      ],
      "name": "getAssetsByType",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "assetId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "recordRevenue",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "assetId",
          "type": "uint256"
        }
      ],
      "name": "recordView",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum MediaRegistry.AssetType",
          "name": "assetType",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "contractAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "metadata",
          "type": "string"
        }
      ],
      "name": "registerAsset",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalAssets",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610d35806100206000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063d1b2cc2e11610066578063d1b2cc2e14610122578063e64707e214610142578063eac8f5b814610155578063ed5eb95814610175578063ffddd9cd1461018857600080fd5b806301e1d114146100a35780631b833f06146100bf5780631cac090b146100d45780631f7ba134146100e7578063cf35bdd0146100fa575b600080fd5b6100ac60035481565b6040519081526020015b60405180910390f35b6100d26100cd3660046107b7565b61019b565b005b6100ac6100e23660046107ed565b6101c5565b6100d26100f5366004610817565b6101f6565b61010d610108366004610817565b61021b565b6040516100b6999897969594939291906108ae565b610135610130366004610918565b610304565b6040516100b6919061093a565b6100ac610150366004610995565b610391565b610168610163366004610817565b6103ad565b6040516100b691906109b1565b610135610183366004610a53565b61054f565b6100ac610196366004610a84565b6105b9565b600082815260208190526040812060070180548392906101bc908490610b76565b90915550505050565b600160205281600052604060002081815481106101e157600080fd5b90600052602060002001600091509150505481565b600081815260208190526040812060060180549161021383610b8f565b919050555050565b6000602081905290815260409020805460018201546002830154600384018054939460ff8416946101009094046001600160a01b03169390919061025e90610ba8565b80601f016020809104026020016040519081016040528092919081815260200182805461028a90610ba8565b80156102d75780601f106102ac576101008083540402835291602001916102d7565b820191906000526020600020905b8154815290600101906020018083116102ba57829003601f168201915b50505050600483015460058401546006850154600790950154939491936001600160a01b03909116925089565b60606001600083600481111561031c5761031c610830565b600481111561032d5761032d610830565b815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561038557602002820191906000526020600020905b815481526020019060010190808311610371575b50505050509050919050565b600260205281600052604060002081815481106101e157600080fd5b61040f60408051610120810190915260008082526020820190815260200160006001600160a01b0316815260200160008152602001606081526020016000815260200160006001600160a01b0316815260200160008152602001600081525090565b6000828152602081815260409182902082516101208101909352805483526001810154909183019060ff16600481111561044b5761044b610830565b600481111561045c5761045c610830565b8152600182015461010090046001600160a01b031660208201526002820154604082015260038201805460609092019161049590610ba8565b80601f01602080910402602001604051908101604052809291908181526020018280546104c190610ba8565b801561050e5780601f106104e35761010080835404028352916020019161050e565b820191906000526020600020905b8154815290600101906020018083116104f157829003601f168201915b50505091835250506004820154602082015260058201546001600160a01b031660408201526006820154606082015260079091015460809091015292915050565b6001600160a01b03811660009081526002602090815260409182902080548351818402810184019094528084526060939283018282801561038557602002820191906000526020600020908154815260200190600101908083116103715750505050509050919050565b60038054600091826105ca83610b8f565b9091555050600354604080516101208101909152818152602081018760048111156105f7576105f7610830565b81526001600160a01b0387166020808301919091526040808301889052606083018790524260808401523360a0840152600060c0840181905260e0909301839052848352828252909120825181559082015160018083018054909160ff199091169083600481111561066b5761066b610830565b021790555060408201516001820180546001600160a01b0390921661010002610100600160a81b031990921691909117905560608201516002820155608082015160038201906106bb9082610c31565b5060a0820151816004015560c08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060e0820151816006015561010082015181600701559050506001600087600481111561072157610721610830565b600481111561073257610732610830565b81526020808201929092526040908101600090812080546001818101835591835284832001859055338083526002855283832080549283018155835293909120018390555182907f65ac8573b985efeff64062ca833e3c30a4ea4f0a21c84a48048c306f2a317322906107a6908a90610cf1565b60405180910390a395945050505050565b600080604083850312156107ca57600080fd5b50508035926020909101359150565b8035600581106107e857600080fd5b919050565b6000806040838503121561080057600080fd5b610809836107d9565b946020939093013593505050565b60006020828403121561082957600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6005811061086457634e487b7160e01b600052602160045260246000fd5b9052565b6000815180845260005b8181101561088e57602081850181015186830182015201610872565b506000602082860101526020601f19601f83011685010191505092915050565b60006101208b83526108c3602084018c610846565b6001600160a01b038a81166040850152606084018a9052608084018290526108ed8285018a610868565b60a08501989098529590951660c08301525060e0810192909252610100909101525095945050505050565b60006020828403121561092a57600080fd5b610933826107d9565b9392505050565b6020808252825182820181905260009190848201906040850190845b8181101561097257835183529284019291840191600101610956565b50909695505050505050565b80356001600160a01b03811681146107e857600080fd5b600080604083850312156109a857600080fd5b6108098361097e565b6020815281516020820152600060208301516109d06040840182610846565b5060408301516001600160a01b0381166060840152506060830151608083015260808301516101208060a0850152610a0c610140850183610868565b915060a085015160c085015260c0850151610a3260e08601826001600160a01b03169052565b5060e085015161010085810191909152909401519390920192909252919050565b600060208284031215610a6557600080fd5b6109338261097e565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610a9a57600080fd5b610aa3856107d9565b9350610ab16020860161097e565b925060408501359150606085013567ffffffffffffffff80821115610ad557600080fd5b818701915087601f830112610ae957600080fd5b813581811115610afb57610afb610a6e565b604051601f8201601f19908116603f01168101908382118183101715610b2357610b23610a6e565b816040528281528a6020848701011115610b3c57600080fd5b82602086016020830137600060208483010152809550505050505092959194509250565b634e487b7160e01b600052601160045260246000fd5b80820180821115610b8957610b89610b60565b92915050565b600060018201610ba157610ba1610b60565b5060010190565b600181811c90821680610bbc57607f821691505b602082108103610bdc57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610c2c57600081815260208120601f850160051c81016020861015610c095750805b601f850160051c820191505b81811015610c2857828155600101610c15565b5050505b505050565b815167ffffffffffffffff811115610c4b57610c4b610a6e565b610c5f81610c598454610ba8565b84610be2565b602080601f831160018114610c945760008415610c7c5750858301515b600019600386901b1c1916600185901b178555610c28565b600085815260208120601f198616915b82811015610cc357888601518255948401946001909101908401610ca4565b5085821015610ce15787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208101610b89828461084656fea2646970667358221220e1ddd968e3566630cc072dae7431c08f62ea6f5d1519f92580ea0f63c2e86f8e64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c8063d1b2cc2e11610066578063d1b2cc2e14610122578063e64707e214610142578063eac8f5b814610155578063ed5eb95814610175578063ffddd9cd1461018857600080fd5b806301e1d114146100a35780631b833f06146100bf5780631cac090b146100d45780631f7ba134146100e7578063cf35bdd0146100fa575b600080fd5b6100ac60035481565b6040519081526020015b60405180910390f35b6100d26100cd3660046107b7565b61019b565b005b6100ac6100e23660046107ed565b6101c5565b6100d26100f5366004610817565b6101f6565b61010d610108366004610817565b61021b565b6040516100b6999897969594939291906108ae565b610135610130366004610918565b610304565b6040516100b6919061093a565b6100ac610150366004610995565b610391565b610168610163366004610817565b6103ad565b6040516100b691906109b1565b610135610183366004610a53565b61054f565b6100ac610196366004610a84565b6105b9565b600082815260208190526040812060070180548392906101bc908490610b76565b90915550505050565b600160205281600052604060002081815481106101e157600080fd5b90600052602060002001600091509150505481565b600081815260208190526040812060060180549161021383610b8f565b919050555050565b6000602081905290815260409020805460018201546002830154600384018054939460ff8416946101009094046001600160a01b03169390919061025e90610ba8565b80601f016020809104026020016040519081016040528092919081815260200182805461028a90610ba8565b80156102d75780601f106102ac576101008083540402835291602001916102d7565b820191906000526020600020905b8154815290600101906020018083116102ba57829003601f168201915b50505050600483015460058401546006850154600790950154939491936001600160a01b03909116925089565b60606001600083600481111561031c5761031c610830565b600481111561032d5761032d610830565b815260200190815260200160002080548060200260200160405190810160405280929190818152602001828054801561038557602002820191906000526020600020905b815481526020019060010190808311610371575b50505050509050919050565b600260205281600052604060002081815481106101e157600080fd5b61040f60408051610120810190915260008082526020820190815260200160006001600160a01b0316815260200160008152602001606081526020016000815260200160006001600160a01b0316815260200160008152602001600081525090565b6000828152602081815260409182902082516101208101909352805483526001810154909183019060ff16600481111561044b5761044b610830565b600481111561045c5761045c610830565b8152600182015461010090046001600160a01b031660208201526002820154604082015260038201805460609092019161049590610ba8565b80601f01602080910402602001604051908101604052809291908181526020018280546104c190610ba8565b801561050e5780601f106104e35761010080835404028352916020019161050e565b820191906000526020600020905b8154815290600101906020018083116104f157829003601f168201915b50505091835250506004820154602082015260058201546001600160a01b031660408201526006820154606082015260079091015460809091015292915050565b6001600160a01b03811660009081526002602090815260409182902080548351818402810184019094528084526060939283018282801561038557602002820191906000526020600020908154815260200190600101908083116103715750505050509050919050565b60038054600091826105ca83610b8f565b9091555050600354604080516101208101909152818152602081018760048111156105f7576105f7610830565b81526001600160a01b0387166020808301919091526040808301889052606083018790524260808401523360a0840152600060c0840181905260e0909301839052848352828252909120825181559082015160018083018054909160ff199091169083600481111561066b5761066b610830565b021790555060408201516001820180546001600160a01b0390921661010002610100600160a81b031990921691909117905560608201516002820155608082015160038201906106bb9082610c31565b5060a0820151816004015560c08201518160050160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060e0820151816006015561010082015181600701559050506001600087600481111561072157610721610830565b600481111561073257610732610830565b81526020808201929092526040908101600090812080546001818101835591835284832001859055338083526002855283832080549283018155835293909120018390555182907f65ac8573b985efeff64062ca833e3c30a4ea4f0a21c84a48048c306f2a317322906107a6908a90610cf1565b60405180910390a395945050505050565b600080604083850312156107ca57600080fd5b50508035926020909101359150565b8035600581106107e857600080fd5b919050565b6000806040838503121561080057600080fd5b610809836107d9565b946020939093013593505050565b60006020828403121561082957600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b6005811061086457634e487b7160e01b600052602160045260246000fd5b9052565b6000815180845260005b8181101561088e57602081850181015186830182015201610872565b506000602082860101526020601f19601f83011685010191505092915050565b60006101208b83526108c3602084018c610846565b6001600160a01b038a81166040850152606084018a9052608084018290526108ed8285018a610868565b60a08501989098529590951660c08301525060e0810192909252610100909101525095945050505050565b60006020828403121561092a57600080fd5b610933826107d9565b9392505050565b6020808252825182820181905260009190848201906040850190845b8181101561097257835183529284019291840191600101610956565b50909695505050505050565b80356001600160a01b03811681146107e857600080fd5b600080604083850312156109a857600080fd5b6108098361097e565b6020815281516020820152600060208301516109d06040840182610846565b5060408301516001600160a01b0381166060840152506060830151608083015260808301516101208060a0850152610a0c610140850183610868565b915060a085015160c085015260c0850151610a3260e08601826001600160a01b03169052565b5060e085015161010085810191909152909401519390920192909252919050565b600060208284031215610a6557600080fd5b6109338261097e565b634e487b7160e01b600052604160045260246000fd5b60008060008060808587031215610a9a57600080fd5b610aa3856107d9565b9350610ab16020860161097e565b925060408501359150606085013567ffffffffffffffff80821115610ad557600080fd5b818701915087601f830112610ae957600080fd5b813581811115610afb57610afb610a6e565b604051601f8201601f19908116603f01168101908382118183101715610b2357610b23610a6e565b816040528281528a6020848701011115610b3c57600080fd5b82602086016020830137600060208483010152809550505050505092959194509250565b634e487b7160e01b600052601160045260246000fd5b80820180821115610b8957610b89610b60565b92915050565b600060018201610ba157610ba1610b60565b5060010190565b600181811c90821680610bbc57607f821691505b602082108103610bdc57634e487b7160e01b600052602260045260246000fd5b50919050565b601f821115610c2c57600081815260208120601f850160051c81016020861015610c095750805b601f850160051c820191505b81811015610c2857828155600101610c15565b5050505b505050565b815167ffffffffffffffff811115610c4b57610c4b610a6e565b610c5f81610c598454610ba8565b84610be2565b602080601f831160018114610c945760008415610c7c5750858301515b600019600386901b1c1916600185901b178555610c28565b600085815260208120601f198616915b82811015610cc357888601518255948401946001909101908401610ca4565b5085821015610ce15787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208101610b89828461084656fea2646970667358221220e1ddd968e3566630cc072dae7431c08f62ea6f5d1519f92580ea0f63c2e86f8e64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
