{
  "_format": "hh-sol-artifact-1",
  "contractName": "EntityRegistry",
  "sourceName": "contracts/core/EntityRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        }
      ],
      "name": "EntityDeactivated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "EntityRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        }
      ],
      "name": "EntityTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        }
      ],
      "name": "deactivateEntity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        }
      ],
      "name": "getEntity",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "nftContract",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "tokenId",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "entityType",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "active",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "registeredAt",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "dslHash",
              "type": "bytes32"
            }
          ],
          "internalType": "struct EntityRegistry.RegistryEntry",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "getEntityByNFT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "getOwnerEntities",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        }
      ],
      "name": "isEntityActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "nftToEntityId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "ownerEntities",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "entityType",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "dslHash",
          "type": "bytes32"
        }
      ],
      "name": "registerEntity",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registry",
      "outputs": [
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "entityType",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "registeredAt",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "dslHash",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalEntities",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "entityId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferEntity",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052600160045534801561001557600080fd5b50338061003c57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6100458161004b565b5061009b565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610ecc806100aa6000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063a363e1b41161008c578063b3a2784211610066578063b3a2784214610237578063cc2153b614610257578063ef2bdabb1461026a578063f2fde38b1461027d57600080fd5b8063a363e1b4146101c3578063a517069a146101d6578063a82ab5c71461020157600080fd5b80635893253c116100c85780635893253c1461016f5780635cd8b15e14610195578063715018a61461019e5780638da5cb5b146101a857600080fd5b806311a85a7c146100ef578063178c340c146101185780631901a5cd14610139575b600080fd5b6101026100fd366004610a4c565b610290565b60405161010f9190610a6e565b60405180910390f35b61012b610126366004610ab2565b6102fc565b60405190815260200161010f565b61012b610147366004610ab2565b6001600160a01b03919091166000908152600260209081526040808320938352929052205490565b61018261017d366004610adc565b61032d565b60405161010f9796959493929190610b3b565b61012b60055481565b6101a6610406565b005b6000546040516001600160a01b03909116815260200161010f565b6101a66101d1366004610adc565b61041a565b61012b6101e4366004610ab2565b600260209081526000928352604080842090915290825290205481565b61022761020f366004610adc565b60009081526001602052604090206004015460ff1690565b604051901515815260200161010f565b61024a610245366004610adc565b610525565b60405161010f9190610b8d565b61012b610265366004610c16565b610661565b6101a6610278366004610cfa565b610858565b6101a661028b366004610a4c565b610975565b6001600160a01b0381166000908152600360209081526040918290208054835181840281018401909452808452606093928301828280156102f057602002820191906000526020600020905b8154815260200190600101908083116102dc575b50505050509050919050565b6003602052816000526040600020818154811061031857600080fd5b90600052602060002001600091509150505481565b600160208190526000918252604090912080549181015460028201546003830180546001600160a01b03958616959394929093169261036b90610d26565b80601f016020809104026020016040519081016040528092919081815260200182805461039790610d26565b80156103e45780601f106103b9576101008083540402835291602001916103e4565b820191906000526020600020905b8154815290600101906020018083116103c757829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b61040e6109b3565b61041860006109e0565b565b6000818152600160205260409020600201546001600160a01b031633148061044c57506000546001600160a01b031633145b61048e5760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b60448201526064015b60405180910390fd5b60008181526001602052604090206004015460ff166104e25760405162461bcd60e51b815260206004820152601060248201526f416c726561647920696e61637469766560801b6044820152606401610485565b600081815260016020526040808220600401805460ff191690555182917fb860ced9e0d4468eb4085b31d7c8015aaadc60c7a0df74e93d6617087a1043aa91a250565b6040805160e0810182526000808252602082018190529181018290526060808201526080810182905260a0810182905260c0810191909152600082815260016020818152604092839020835160e08101855281546001600160a01b03908116825293820154928101929092526002810154909216928101929092526003810180546060840191906105b590610d26565b80601f01602080910402602001604051908101604052809291908181526020018280546105e190610d26565b801561062e5780601f106106035761010080835404028352916020019161062e565b820191906000526020600020905b81548152906001019060200180831161061157829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b6001600160a01b0385166000908152600260209081526040808320878452909152812054156106d25760405162461bcd60e51b815260206004820152601960248201527f456e7469747920616c72656164792072656769737465726564000000000000006044820152606401610485565b60048054600091826106e383610d60565b909155506040805160e0810182526001600160a01b03808b16825260208083018b81528a8316848601908152606085018b81526001608087018190524260a088015260c087018c905260008981529481905296909320855181549086166001600160a01b031991821617825592519681019690965551600286018054919094169116179091555192935091600382019061077d9082610dd6565b50608082015160048201805460ff191691151591909117905560a082015160058083019190915560c0909201516006909101556001600160a01b0388811660009081526002602090815260408083208b8452825280832086905592891682526003815291812080546001810182559082529181209091018390558154919061080483610d60565b90915550506040516001600160a01b03868116825287919089169083907fd738944614bfeac1027cb1befbedc469ded0ac03ebe88b95b5dde8dcbdcacd169060200160405180910390a49695505050505050565b6000828152600160205260409020600201546001600160a01b031633146108ad5760405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606401610485565b6001600160a01b0381166108f55760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b6044820152606401610485565b600082815260016020818152604080842060020180546001600160a01b038781166001600160a01b0319831681179093558287526003855283872080549687018155875293862090940187905590519190921692839186917f29c08117acc64aee0c0c132434d060a886d88853075635c91797cdf8ab3d744b91a4505050565b61097d6109b3565b6001600160a01b0381166109a757604051631e4fbdf760e01b815260006004820152602401610485565b6109b0816109e0565b50565b6000546001600160a01b031633146104185760405163118cdaa760e01b8152336004820152602401610485565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114610a4757600080fd5b919050565b600060208284031215610a5e57600080fd5b610a6782610a30565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610aa657835183529284019291840191600101610a8a565b50909695505050505050565b60008060408385031215610ac557600080fd5b610ace83610a30565b946020939093013593505050565b600060208284031215610aee57600080fd5b5035919050565b6000815180845260005b81811015610b1b57602081850181015186830182015201610aff565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038881168252602082018890528616604082015260e060608201819052600090610b6e90830187610af5565b94151560808301525060a081019290925260c090910152949350505050565b60208152600060018060a01b038084511660208401526020840151604084015280604085015116606084015250606083015160e06080840152610bd4610100840182610af5565b90506080840151151560a084015260a084015160c084015260c084015160e08401528091505092915050565b634e487b7160e01b600052604160045260246000fd5b600080600080600060a08688031215610c2e57600080fd5b610c3786610a30565b945060208601359350610c4c60408701610a30565b9250606086013567ffffffffffffffff80821115610c6957600080fd5b818801915088601f830112610c7d57600080fd5b813581811115610c8f57610c8f610c00565b604051601f8201601f19908116603f01168101908382118183101715610cb757610cb7610c00565b816040528281528b6020848701011115610cd057600080fd5b82602086016020830137600092810160200192909252509699959850939660800135949350505050565b60008060408385031215610d0d57600080fd5b82359150610d1d60208401610a30565b90509250929050565b600181811c90821680610d3a57607f821691505b602082108103610d5a57634e487b7160e01b600052602260045260246000fd5b50919050565b600060018201610d8057634e487b7160e01b600052601160045260246000fd5b5060010190565b601f821115610dd157600081815260208120601f850160051c81016020861015610dae5750805b601f850160051c820191505b81811015610dcd57828155600101610dba565b5050505b505050565b815167ffffffffffffffff811115610df057610df0610c00565b610e0481610dfe8454610d26565b84610d87565b602080601f831160018114610e395760008415610e215750858301515b600019600386901b1c1916600185901b178555610dcd565b600085815260208120601f198616915b82811015610e6857888601518255948401946001909101908401610e49565b5085821015610e865787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212202669a92d00897d92a82230c8272898340790d1b2faa25435d6e6fb61785f8b2c64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063a363e1b41161008c578063b3a2784211610066578063b3a2784214610237578063cc2153b614610257578063ef2bdabb1461026a578063f2fde38b1461027d57600080fd5b8063a363e1b4146101c3578063a517069a146101d6578063a82ab5c71461020157600080fd5b80635893253c116100c85780635893253c1461016f5780635cd8b15e14610195578063715018a61461019e5780638da5cb5b146101a857600080fd5b806311a85a7c146100ef578063178c340c146101185780631901a5cd14610139575b600080fd5b6101026100fd366004610a4c565b610290565b60405161010f9190610a6e565b60405180910390f35b61012b610126366004610ab2565b6102fc565b60405190815260200161010f565b61012b610147366004610ab2565b6001600160a01b03919091166000908152600260209081526040808320938352929052205490565b61018261017d366004610adc565b61032d565b60405161010f9796959493929190610b3b565b61012b60055481565b6101a6610406565b005b6000546040516001600160a01b03909116815260200161010f565b6101a66101d1366004610adc565b61041a565b61012b6101e4366004610ab2565b600260209081526000928352604080842090915290825290205481565b61022761020f366004610adc565b60009081526001602052604090206004015460ff1690565b604051901515815260200161010f565b61024a610245366004610adc565b610525565b60405161010f9190610b8d565b61012b610265366004610c16565b610661565b6101a6610278366004610cfa565b610858565b6101a661028b366004610a4c565b610975565b6001600160a01b0381166000908152600360209081526040918290208054835181840281018401909452808452606093928301828280156102f057602002820191906000526020600020905b8154815260200190600101908083116102dc575b50505050509050919050565b6003602052816000526040600020818154811061031857600080fd5b90600052602060002001600091509150505481565b600160208190526000918252604090912080549181015460028201546003830180546001600160a01b03958616959394929093169261036b90610d26565b80601f016020809104026020016040519081016040528092919081815260200182805461039790610d26565b80156103e45780601f106103b9576101008083540402835291602001916103e4565b820191906000526020600020905b8154815290600101906020018083116103c757829003601f168201915b5050505060048301546005840154600690940154929360ff9091169290915087565b61040e6109b3565b61041860006109e0565b565b6000818152600160205260409020600201546001600160a01b031633148061044c57506000546001600160a01b031633145b61048e5760405162461bcd60e51b815260206004820152600e60248201526d139bdd08185d5d1a1bdc9a5e995960921b60448201526064015b60405180910390fd5b60008181526001602052604090206004015460ff166104e25760405162461bcd60e51b815260206004820152601060248201526f416c726561647920696e61637469766560801b6044820152606401610485565b600081815260016020526040808220600401805460ff191690555182917fb860ced9e0d4468eb4085b31d7c8015aaadc60c7a0df74e93d6617087a1043aa91a250565b6040805160e0810182526000808252602082018190529181018290526060808201526080810182905260a0810182905260c0810191909152600082815260016020818152604092839020835160e08101855281546001600160a01b03908116825293820154928101929092526002810154909216928101929092526003810180546060840191906105b590610d26565b80601f01602080910402602001604051908101604052809291908181526020018280546105e190610d26565b801561062e5780601f106106035761010080835404028352916020019161062e565b820191906000526020600020905b81548152906001019060200180831161061157829003601f168201915b5050509183525050600482015460ff16151560208201526005820154604082015260069091015460609091015292915050565b6001600160a01b0385166000908152600260209081526040808320878452909152812054156106d25760405162461bcd60e51b815260206004820152601960248201527f456e7469747920616c72656164792072656769737465726564000000000000006044820152606401610485565b60048054600091826106e383610d60565b909155506040805160e0810182526001600160a01b03808b16825260208083018b81528a8316848601908152606085018b81526001608087018190524260a088015260c087018c905260008981529481905296909320855181549086166001600160a01b031991821617825592519681019690965551600286018054919094169116179091555192935091600382019061077d9082610dd6565b50608082015160048201805460ff191691151591909117905560a082015160058083019190915560c0909201516006909101556001600160a01b0388811660009081526002602090815260408083208b8452825280832086905592891682526003815291812080546001810182559082529181209091018390558154919061080483610d60565b90915550506040516001600160a01b03868116825287919089169083907fd738944614bfeac1027cb1befbedc469ded0ac03ebe88b95b5dde8dcbdcacd169060200160405180910390a49695505050505050565b6000828152600160205260409020600201546001600160a01b031633146108ad5760405162461bcd60e51b81526020600482015260096024820152682737ba1037bbb732b960b91b6044820152606401610485565b6001600160a01b0381166108f55760405162461bcd60e51b815260206004820152600f60248201526e496e76616c6964206164647265737360881b6044820152606401610485565b600082815260016020818152604080842060020180546001600160a01b038781166001600160a01b0319831681179093558287526003855283872080549687018155875293862090940187905590519190921692839186917f29c08117acc64aee0c0c132434d060a886d88853075635c91797cdf8ab3d744b91a4505050565b61097d6109b3565b6001600160a01b0381166109a757604051631e4fbdf760e01b815260006004820152602401610485565b6109b0816109e0565b50565b6000546001600160a01b031633146104185760405163118cdaa760e01b8152336004820152602401610485565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114610a4757600080fd5b919050565b600060208284031215610a5e57600080fd5b610a6782610a30565b9392505050565b6020808252825182820181905260009190848201906040850190845b81811015610aa657835183529284019291840191600101610a8a565b50909695505050505050565b60008060408385031215610ac557600080fd5b610ace83610a30565b946020939093013593505050565b600060208284031215610aee57600080fd5b5035919050565b6000815180845260005b81811015610b1b57602081850181015186830182015201610aff565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038881168252602082018890528616604082015260e060608201819052600090610b6e90830187610af5565b94151560808301525060a081019290925260c090910152949350505050565b60208152600060018060a01b038084511660208401526020840151604084015280604085015116606084015250606083015160e06080840152610bd4610100840182610af5565b90506080840151151560a084015260a084015160c084015260c084015160e08401528091505092915050565b634e487b7160e01b600052604160045260246000fd5b600080600080600060a08688031215610c2e57600080fd5b610c3786610a30565b945060208601359350610c4c60408701610a30565b9250606086013567ffffffffffffffff80821115610c6957600080fd5b818801915088601f830112610c7d57600080fd5b813581811115610c8f57610c8f610c00565b604051601f8201601f19908116603f01168101908382118183101715610cb757610cb7610c00565b816040528281528b6020848701011115610cd057600080fd5b82602086016020830137600092810160200192909252509699959850939660800135949350505050565b60008060408385031215610d0d57600080fd5b82359150610d1d60208401610a30565b90509250929050565b600181811c90821680610d3a57607f821691505b602082108103610d5a57634e487b7160e01b600052602260045260246000fd5b50919050565b600060018201610d8057634e487b7160e01b600052601160045260246000fd5b5060010190565b601f821115610dd157600081815260208120601f850160051c81016020861015610dae5750805b601f850160051c820191505b81811015610dcd57828155600101610dba565b5050505b505050565b815167ffffffffffffffff811115610df057610df0610c00565b610e0481610dfe8454610d26565b84610d87565b602080601f831160018114610e395760008415610e215750858301515b600019600386901b1c1916600185901b178555610dcd565b600085815260208120601f198616915b82811015610e6857888601518255948401946001909101908401610e49565b5085821015610e865787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212202669a92d00897d92a82230c8272898340790d1b2faa25435d6e6fb61785f8b2c64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
